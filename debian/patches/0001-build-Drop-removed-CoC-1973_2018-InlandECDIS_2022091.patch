From: Alec Leamas <leamas.alec@gmail.com>
Date: Wed, 17 Apr 2024 14:03:26 +0200
Subject: [PATCH 3/3] build: Drop removed
 CoC-1973_2018-InlandECDIS_20220912.pdf

Remove references to pdf file without sources which is
excluded from upstream sources in d/copyright

Not acceptable upstream.

Forwarded: not-needed
---
 CMakeLists.txt | 21 ++++-----------------
 1 file changed, 4 insertions(+), 17 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 11e4296..e9c772d 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1416,8 +1416,10 @@ if (OCPN_USE_SVG)
   endif ()
 endif ()
 
+include(SystemLibs)
+
 if (OCPN_USE_NEWSERIAL)
-  add_subdirectory("libs/serial")
+  # add_subdirectory("libs/serial")
   target_link_libraries(${PACKAGE_NAME} PRIVATE ocpn::serial)
   message(STATUS "Using new serial library...")
 endif ()
@@ -1487,6 +1489,7 @@ target_link_libraries(${PACKAGE_NAME} PUBLIC ocpn::gl-headers)
 add_subdirectory(libs/std_filesystem)
 target_link_libraries(${PACKAGE_NAME} PRIVATE ocpn::filesystem)
 
+
 message(STATUS "    Adding local LIBTESS2")
 add_subdirectory(libs/libtess2)
 target_link_libraries(${PACKAGE_NAME} PRIVATE ocpn::tess2)
@@ -1748,16 +1751,6 @@ if (APPLE)
     data/opencpn.png PROPERTIES MACOSX_PACKAGE_LOCATION SharedSupport
   )
 
-  set_source_files_properties(
-    data/CoC-909_2013-InlandECDIS_20170308.pdf
-    PROPERTIES MACOSX_PACKAGE_LOCATION SharedSupport
-  )
-
-  set_source_files_properties(
-    data/CoC-1973_2018-InlandECDIS_20220912.pdf
-    PROPERTIES MACOSX_PACKAGE_LOCATION SharedSupport
-  )
-
   set_source_files_properties(
     ${CMAKE_SOURCE_DIR}/data/ocpn-plugins.xml PROPERTIES MACOSX_PACKAGE_LOCATION
                                                          SharedSupport
@@ -1916,8 +1909,6 @@ if (APPLE)
             data/license.html
             data/opencpn.png
             data/ocpn-plugins.xml
-            data/CoC-909_2013-InlandECDIS_20170308s.pdf
-            data/CoC-1973_2018-InlandECDIS_20220912.pdf
             ${SOUND_FILES}
             buildosx/opencpn.icns
             buildosx/MainMenu.xib
@@ -2050,10 +2041,6 @@ if (NOT APPLE)
   file(GLOB LICENSES "${CMAKE_SOURCE_DIR}/COPYING.*")
   install(FILES ${LICENSES} LICENSING DESTINATION "${PREFIX_PKGDATA}")
 
-  install(FILES data/CoC-909_2013-InlandECDIS_20170308s.pdf
-                data/CoC-1973_2018-InlandECDIS_20220912.pdf
-          DESTINATION ${PREFIX_PKGDATA}
-  )
   install(FILES data/copyright DESTINATION ${PREFIX_DATA}/doc/${PACKAGE_NAME})
   install(FILES data/license.html DESTINATION ${PREFIX_PKGDATA})
   install(FILES ${CMAKE_SOURCE_DIR}/data/authors.html
